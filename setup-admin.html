<!DOCTYPE html>
<html>
<head>
  <meta charset="UTF-8">
  <title>Admin Setup</title>

  <!-- Firebase v8 -->
  <script src="https://www.gstatic.com/firebasejs/8.10.0/firebase-app.js"></script>
  <script src="https://www.gstatic.com/firebasejs/8.10.0/firebase-auth.js"></script>
  <script src="https://www.gstatic.com/firebasejs/8.10.0/firebase-firestore.js"></script>
</head>

<body>

<h2>Admin Setup</h2>
<p>ONE TIME USE ONLY</p>

<button onclick="setupAdmin()">Create / Fix Admin</button>
<p id="msg"></p>

<script>
  // Firebase config
  var firebaseConfig = {
    apiKey: "AIzaSyCgaZ9DqGuszvycCRuJceNvg7G86OTc9oU",
    authDomain: "restaurant-55333.firebaseapp.com",
    projectId: "restaurant-55333"
  };

  firebase.initializeApp(firebaseConfig);

  var auth = firebase.auth();
  var db = firebase.firestore();

  function setupAdmin() {
    var email = "akilk2228@gmail.com";
    var password = "12345678";
    var msg = document.getElementById("msg");

    auth.signInWithEmailAndPassword(email, password)
      .then(function(cred) {
        return db.collection("users").doc(cred.user.uid).set({
          email: email,
          role: "admin"
        });
      })
      .then(function() {
        msg.innerText = "✅ Admin role assigned successfully. Now delete this file.";
      })
      .catch(function(err) {
        msg.innerText = "❌ " + err.message;
      });
  }
</script>

</body>
</html>
